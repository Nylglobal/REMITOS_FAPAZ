<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Remito FAPAZ</title>

<style>
body{font-family:Arial;margin:20px;background:#f5f5f5;}
.no-print{margin-bottom:20px;}
input{width:100%;box-sizing:border-box;}

.remito{
  width:210mm;
  min-height:148mm;
  background:white;
  padding:10mm;
  margin:auto;
  border:1px solid #000;
}

.header{
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.header img{height:70px;}
.titulo{font-size:22px;font-weight:bold;text-align:right;}

.datos{display:flex;justify-content:space-between;margin-top:10px;font-size:12px;}
.bloque{width:48%;border:1px solid #000;padding:5px;}

table{width:100%;border-collapse:collapse;margin-top:10px;}
th,td{border:1px solid #000;padding:4px;font-size:12px;}
th{background:#eee;}
.cant{width:15%;}

.firmas{
  margin-top:10px;
}
.fila-firmas{
  display:flex;
  gap:10px;
}
.firma{
  border:1px solid #000;
  width:48%;
  height:60px;
  font-size:10px;
  text-align:center;
  padding-top:2px;
}
.detalles{
  border:1px solid #000;
  height:60px;
  margin-top:5px;
  font-size:10px;
  padding:4px;
}

.footer{
  margin-top:5px;
  font-size:9px;
  text-align:center;
}

.page-break{
  page-break-after:always;
}

@media print{
  body{background:white;margin:0;}
  .no-print{display:none;}
  .remito{border:none;margin:0;}
}
</style>
</head>

<body>

<div class="no-print">
  Cliente: <input id="cliente">
  CUIT: <input id="cuit">
  IVA: <input id="iva">
  Domicilio: <input id="domicilio">
  Responsable: <input id="responsable">
  Tel: <input id="telefono">
  FC Vinculada: <input id="fc">
  <button onclick="agregarFila()">Agregar Item</button>
  <button onclick="generar()">Imprimir</button>

  <table id="tabla">
    <tr><th>Cantidad</th><th>Detalle</th></tr>
  </table>
</div>

<div class="print-area" style="display:none">

<!-- ORIGINAL -->
<div class="remito">
  <div class="header">
    <img src="logo.png">
    <div class="titulo">REMITO<br><span id="p_remito"></span></div>
  </div>

  <div class="datos">
    <div class="bloque">
      <b id="p_empresa"></b><br>
      CUIT: <span id="p_cuit_emp"></span><br>
      IVA: <span id="p_iva_emp"></span><br>
      <span id="p_dir"></span><br>
      Tel: <span id="p_tel"></span>
    </div>
    <div class="bloque">
      Cliente: <span id="p_cliente"></span><br>
      CUIT: <span id="p_cuit"></span><br>
      IVA: <span id="p_iva"></span><br>
      Dom: <span id="p_dom"></span><br>
      Resp: <span id="p_resp"></span><br>
      Tel: <span id="p_telcli"></span><br>
      FC: <span id="p_fc"></span><br>
      Fecha: <span id="p_fecha"></span>
    </div>
  </div>

  <table id="printTabla"></table>

  <div class="firmas">
    <div class="fila-firmas">
      <div class="firma">SELLO TRANSPORTISTA</div>
      <div class="firma">RECIBÍ CONFORME</div>
    </div>
    <div class="detalles">DETALLES DE LA RECEPCIÓN</div>
  </div>

  <div class="footer">
    Fecha de impresión de respaldo: SEPTIEMBRE (NUM. DEL 0002-0001 AL 0002-0100)<br>
    CAI:50372209069345 Vto. 12/09/2026
  </div>
</div>

<div class="page-break"></div>

<!-- DUPLICADO -->
<div class="remito">
  <div class="header">
    <img src="logo.png">
    <div class="titulo">REMITO DUPLICADO<br><span id="p_remito2"></span></div>
  </div>

  <div class="datos">
    <div class="bloque">
      <b id="p_empresa2"></b><br>
      CUIT: <span id="p_cuit_emp2"></span><br>
      IVA: <span id="p_iva_emp2"></span><br>
      <span id="p_dir2"></span><br>
      Tel: <span id="p_tel2"></span>
    </div>
    <div class="bloque">
      Cliente: <span id="p_cliente2"></span><br>
      CUIT: <span id="p_cuit2"></span><br>
      IVA: <span id="p_iva2"></span><br>
      Dom: <span id="p_dom2"></span><br>
      Resp: <span id="p_resp2"></span><br>
      Tel: <span id="p_telcli2"></span><br>
      FC: <span id="p_fc2"></span><br>
      Fecha: <span id="p_fecha2"></span>
    </div>
  </div>

  <table id="printTabla2"></table>

  <div class="firmas">
    <div class="fila-firmas">
      <div class="firma">SELLO TRANSPORTISTA</div>
      <div class="firma">RECIBÍ CONFORME</div>
    </div>
    <div class="detalles">DETALLES DE LA RECEPCIÓN</div>
  </div>

  <div class="footer">
    Fecha de impresión de respaldo: SEPTIEMBRE (NUM. DEL 0002-0001 AL 0002-0100)<br>
    CAI:50372209069345 Vto. 12/09/2026
  </div>
</div>

</div>

<script>
let empresa=null;

fetch("empresa.json")
.then(r=>r.json())
.then(d=>{
  empresa=d;
  p_empresa.innerText=d.razon;
  p_cuit_emp.innerText=d["Cuit:"];
  p_iva_emp.innerText=d.IVA;
  p_dir.innerText=d.direccion;
  p_tel.innerText=d.telefono;
  p_remito.innerText=d.remito;

  p_empresa2.innerText=d.razon;
  p_cuit_emp2.innerText=d["Cuit:"];
  p_iva_emp2.innerText=d.IVA;
  p_dir2.innerText=d.direccion;
  p_tel2.innerText=d.telefono;
  p_remito2.innerText=d.remito;
});

function agregarFila(){
  let t=document.getElementById("tabla");
  let r=t.insertRow();
  r.innerHTML="<td><input></td><td><input></td>";
}

function generar(){
  let filas=document.querySelectorAll("#tabla tr");
  let html="<tr><th class='cant'>Cantidad</th><th>Detalle</th></tr>";
  for(let i=1;i<filas.length;i++){
    let c=filas[i].cells[0].children[0].value;
    let d=filas[i].cells[1].children[0].value;
    html+=`<tr><td>${c}</td><td>${d}</td></tr>`;
  }
  printTabla.innerHTML=html;
  printTabla2.innerHTML=html;

  p_cliente.innerText=cliente.value;
  p_cuit.innerText=cuit.value;
  p_iva.innerText=iva.value;
  p_dom.innerText=domicilio.value;
  p_resp.innerText=responsable.value;
  p_telcli.innerText=telefono.value;
  p_fc.innerText=fc.value;

  p_cliente2.innerText=cliente.value;
  p_cuit2.innerText=cuit.value;
  p_iva2.innerText=iva.value;
  p_dom2.innerText=domicilio.value;
  p_resp2.innerText=responsable.value;
  p_telcli2.innerText=telefono.value;
  p_fc2.innerText=fc.value;

  let f=new Date().toLocaleDateString();
  p_fecha.innerText=f;
  p_fecha2.innerText=f;

  document.querySelector(".no-print").style.display="none";
  document.querySelector(".print-area").style.display="block";
  window.print();
}

agregarFila();
</script>

</body>
</html>
