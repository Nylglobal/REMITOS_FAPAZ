<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Generador de Remito</title>

<style>
body{font-family:Arial;background:#eee;padding:20px}
.container{max-width:900px;margin:auto;background:white;padding:20px}

.header{display:flex;justify-content:space-between;border-bottom:2px solid #000;margin-bottom:5px}
.r-box{text-align:center;border:1px solid #000;padding:5px;width:150px}
.r-box h1{margin:0;font-size:40px}
.small{font-size:11px}

table{width:100%;border-collapse:collapse;margin-top:10px}
th,td{border:1px solid #000;padding:5px;text-align:center}
th:first-child, td:first-child { width: 80px; }
th:nth-child(2), td:nth-child(2) { width: auto; }

.no-print{}
.print-area{display:none}

.box{border:1px solid #000;margin-top:10px;padding:5px}

.firmas{
  display:flex;
  gap:20px;
  margin-top:10px;
}
.mini{flex:1}
.smallbox{height:60px}

@media print {
  body{margin:0}
  .container{padding:0}
  button{display:none!important}

  .corte{
    page-break-after: always;
    break-after: page;
  }
}
</style>
</head>

<body>
<div class="container">

<div class="no-print">
<h2>Generador de Remito</h2>

Señores Clientes: <input id="cliente"><br>
CUIT: <input id="cuit"><br>
IVA:
<select id="iva">
<option>Resp. Inscripto</option>
<option>Resp. Monotributo</option>
<option>Exento</option>
<option>No Resp.</option>
<option>Consumidor Final</option>
</select><br>
Domicilio de entrega: <input id="domicilio"><br>
Responsable de recepción: <input id="responsable"><br>
Teléfono: <input id="telefono"><br>
Factura vinculada: <input id="fc"><br>

<h3>Items</h3>
<table id="tabla">
<tr><th>Cantidad</th><th>Detalle</th></tr>
</table>
<button onclick="agregarFila()">➕ Agregar ítem</button><br><br>
<button onclick="generar()">Generar Remito</button>
</div>

<div class="print-area">

<!-- ORIGINAL -->
<div class="copia">
<div class="header">
  <div style="display:flex;gap:10px;align-items:center">
    <img src="logo.png" style="height:80px">
    <div>
      <b id="p_empresa"></b><br>
      CUIT: <span id="p_cuit_emp"></span><br>
      IVA: <span id="p_iva_emp"></span><br>
      <span id="p_dir"></span><br>
      Tel: <span id="p_tel"></span>
    </div>
  </div>

  <div class="r-box">
    <h1>R</h1>
    <div class="small">cod. 91</div>
    <div class="small">Documento no válido como factura</div>
    <b>Remito N° <span id="p_remito"></span></b>
  </div>
</div>

<div class="small" style="text-align:right;font-weight:bold">ORIGINAL</div>

<p>
Cliente: <span id="p_cliente"></span><br>
CUIT: <span id="p_cuit"></span> - IVA: <span id="p_iva"></span><br>
Domicilio: <span id="p_dom"></span><br>
Responsable: <span id="p_resp"></span> - Tel: <span id="p_telcli"></span><br>
FC vinculada: <span id="p_fc"></span>
</p>

<table id="printTabla"></table>

<div class="firmas">
  <div class="mini">
    <h4>SELLO TRANSPORTISTA</h4>
    <div class="box smallbox"></div>
  </div>
  <div class="mini">
    <h4>RECIBÍ CONFORME</h4>
    <div class="box smallbox"></div>
  </div>
</div>

<h4>DETALLES DE LA RECEPCIÓN</h4>
<div class="box smallbox"></div>

<hr>
<div class="small corte">
Fecha de impresión de respaldo: SEPTIEMBRE (NUM. DEL 0002-0001 AL 0002-0100)<br>
CAI:50372209069345 Vto. 12/09/2026
</div>
</div>

<!-- DUPLICADO -->
<div class="copia">
<div class="header">
  <div style="display:flex;gap:10px;align-items:center">
    <img src="logo.png" style="height:80px">
    <div>
      <b id="p_empresa2"></b><br>
      CUIT: <span id="p_cuit_emp2"></span><br>
      IVA: <span id="p_iva_emp2"></span><br>
      <span id="p_dir2"></span><br>
      Tel: <span id="p_tel2"></span>
    </div>
  </div>

  <div class="r-box">
    <h1>R</h1>
    <div class="small">cod. 91</div>
    <div class="small">Documento no válido como factura</div>
    <b>Remito N° <span id="p_remito2"></span></b>
  </div>
</div>

<div class="small" style="text-align:right;font-weight:bold">DUPLICADO TRANSPORTE</div>

<p>
Cliente: <span id="p_cliente2"></span><br>
CUIT: <span id="p_cuit2"></span> - IVA: <span id="p_iva2"></span><br>
Domicilio: <span id="p_dom2"></span><br>
Responsable: <span id="p_resp2"></span> - Tel: <span id="p_telcli2"></span><br>
FC vinculada: <span id="p_fc2"></span>
</p>

<table id="printTabla2"></table>

<div class="firmas">
  <div class="mini">
    <h4>SELLO TRANSPORTISTA</h4>
    <div class="box smallbox"></div>
  </div>
  <div class="mini">
    <h4>RECIBÍ CONFORME</h4>
    <div class="box smallbox"></div>
  </div>
</div>

<h4>DETALLES DE LA RECEPCIÓN</h4>
<div class="box smallbox"></div>

<hr>
<div class="small corte">
Fecha de impresión de respaldo: SEPTIEMBRE (NUM. DEL 0002-0001 AL 0002-0100)<br>
CAI:50372209069345 Vto. 12/09/2026
</div>
</div>

<button onclick="window.print()">IMPRIMIR</button>
</div>
</div>

<script>
let empresa=null;

fetch("empresa.json")
.then(r=>r.json())
.then(d=>{
  empresa=d;
  p_empresa.innerText=d.razon;
  p_cuit_emp.innerText=d["Cuit:"];
  p_iva_emp.innerText=d.IVA;
  p_dir.innerText=d.direccion;
  p_tel.innerText=d.telefono;
  p_remito.innerText=d.remito;

  p_empresa2.innerText=d.razon;
  p_cuit_emp2.innerText=d["Cuit:"];
  p_iva_emp2.innerText=d.IVA;
  p_dir2.innerText=d.direccion;
  p_tel2.innerText=d.telefono;
  p_remito2.innerText=d.remito;
});

function agregarFila(){
  let r=tabla.insertRow();
  r.innerHTML="<td><input></td><td><input></td>";
}

function generar(){
  let html="<tr><th>Cantidad</th><th>Detalle</th></tr>";
  [...tabla.rows].slice(1).forEach(r=>{
    html+=`<tr><td>${r.cells[0].children[0].value}</td><td>${r.cells[1].children[0].value}</td></tr>`;
  });

  printTabla.innerHTML=html;
  printTabla2.innerHTML=html;

  p_cliente.innerText=cliente.value;
  p_cuit.innerText=cuit.value;
  p_iva.innerText=iva.value;
  p_dom.innerText=domicilio.value;
  p_resp.innerText=responsable.value;
  p_telcli.innerText=telefono.value;
  p_fc.innerText=fc.value;

  p_cliente2.innerText=cliente.value;
  p_cuit2.innerText=cuit.value;
  p_iva2.innerText=iva.value;
  p_dom2.innerText=domicilio.value;
  p_resp2.innerText=responsable.value;
  p_telcli2.innerText=telefono.value;
  p_fc2.innerText=fc.value;

  document.querySelector(".no-print").style.display="none";
  document.querySelector(".print-area").style.display="block";
}

agregarFila();
</script>

</body>
</html>
